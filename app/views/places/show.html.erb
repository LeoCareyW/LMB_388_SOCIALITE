  <div class="carousel-div-parent">
  <div class="carousel-div">
    <div class="carousel-container mx-auto">
     <div id="carousel-example-1z" class="carousel slide carousel-fade" data-ride="carousel">
       <!--Indicators-->
        <ol class="carousel-indicators">
        <% if @place.photos %>
          <% @place.photos.each do |photo| %>
          <% if photo == @place.photos[0] %>
             <li data-target="#carousel-example-1z" data-slide-to="0" class="active"></li>
          <% else %>
             <li data-target="#carousel-example-1z" data-slide-to="1"></li>
          <% end %>
          <% end  %>
          </ol>
        <% else  %>
        <% end %>


      <div class="carousel-inner" role="listbox">

        <% if @place.photos %>
          <% @place.photos.each do |photo| %>
          <% if photo == @place.photos[0] %>
          <div class="carousel-item active">
            <% else %>
          <div class="carousel-item">
            <% end %>
            <%= cl_image_tag photo.key, crop: :fill, class: "d-block w-100" %>
          </div>
          <% end %>
        </div>
        <% else  %>
        <% end  %>

         <a class="carousel-control-prev" href="#carousel-example-1z" role="button" data-slide="prev">
           <span class="carousel-control-prev-icon" aria-hidden="true"></span>
           <span class="sr-only">Previous</span>
         </a>
         <a class="carousel-control-next" href="#carousel-example-1z" role="button" data-slide="next">
           <span class="carousel-control-next-icon" aria-hidden="true"></span>
           <span class="sr-only">Next</span>
         </a>
         <!--/.Controls-->
       </div>
     </div>
    </div>
    <div class="information-container">
     <h1> <%= @place.name %> <h1>
     <h4> <%= @place.category %> <h4>
     <h6> <%= @place.address %> <h6>
     <% if @place.description  %>
       <p><%= @place.description %></p>
     <% else  %>
     <% end %>
     <% if @place.photos  %>
     <% photo = @place.photos.last %>
     <!-- <div class="secondary-photo"> <%= cl_image_tag photo.key, crop: :fill, class: "d-block w_50" %> </div> -->
     <% else  %>
     <% end %>
   </div>
  </div>
   </div>
 </div>
  <div class="recommend">
    <% pre_like = @place.recommendations.find { |recommend| recommend.user_id == current_user.id} %>
    <% if pre_like %>
      <p id="recommend-"><i class="fas fa-star"></i><%= link_to 'Unrecommend', place_recommendation_path(@place, @recommendation), method: :delete, remote: true %></p>
      <% else %>
      <p id="recommend-"><i class="fas fa-star"></i><%= link_to 'Recommend', place_recommendations_path(@place), method: :post, remote: true %></p>
      <% end %>
    <p><%= @place.recommendations.count %> <%= (@place.recommendations.count) == 1 ? 'Recommendation' : 'Recommendations'%></p>
  </div>

    <br>



<div class="container-fluid bg-light py-3">
 <div class="row">
   <div class="col-md-6 mx-auto">
     <div class="card card-body">
       <h3 class="text-center mb-4">Create your Listing</h3>
         <div class="container">
           <%= simple_form_for([@place, Plan.new]) do |f| %>
           <%= f.input :date %>
           <%= f.input :group, collection: @groups %>
           <%= f.association :friend, collection: @friends %>
             <%= f.submit "Create Plan", class: "btn btn-lg btn-primary btn-block" %>
         </div>
       <% end %>
     </div>
   </div>
 </div>
</div>
<div class="comments">
  <% if @place.comments.any? %>
    <% star = [] %>
    <% @place.comments.each do |comment| %>
    <% star << comment.rating %>
    <% end %>
      <% if star.size > 0 %>
        <% final_rating = star.inject{ |sum, el| sum + el }.to_f / star.size %>
      <% else %>
      <% end  %>
      <div><h5> Comments </h5>
        <% if final_rating %>
          <% final_rating.to_i.times do %>
          <i id="star" class="fas fa-star"></i>
          <% end %>
        <% if final_rating % 2 == 0 %>
          <i></i>
        <% elsif final_rating % 2 == 1  %>
          <i></i>
        <% else %>
          <i id="star" class="fas fa-star-half"></i>
        <% end %>
      <% else %>
      <% end %>

<%= link_to "Leave a comment", new_place_comment_path(@place) %>

<%= simple_form_for [ @place, @comment ], remote: true do |f| %>
  <%= f.input :content, :label => "What did you think, #{current_user.name}?" %>
  <%= f.input :rating, collection: (1..5) %>
  <%= f.submit "Submit comment", class: "btn btn-primary" %>
<% end %>
<ul>
    <% @place.comments.each do |comment| %>
      <li id="comment-<%= comment.id %>"><%= comment.content %></li>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      <% comment.rating.to_i.times do  %>
      <i id="star" class="fas fa-star"></i>
      <% end %>
      <% if comment.user.name  %>
        <p id="commenter"><%= comment.user.name %><p>
      <% else %>
      <% end  %>
      <%= link_to "Remove",
        comment_path(comment),
        method: :delete,
        data: { confirm: "Are you sure?" } %>
        <% end %>
      <% end  %>
       </ul>
    </li>
</div>
